import{r as l,f as p,j as e}from"./index-CpqSmuqB.js";import{c as u}from"./helper-BzBdq6gI.js";import{T as f}from"./ThemeToggle-DbCPRthF.js";import{f as w}from"./formTemplates-uoGO9qH-.js";import{l as c}from"./components-CeugLcM5.js";import"./ThemeContext-CTV3qdSC.js";function S(){const[i,n]=l.useState([]),[m,x]=l.useState(null),d=p();l.useEffect(()=>{const t=JSON.parse(localStorage.getItem("forms")||"[]");n(t)},[]);const g=t=>{if(window.confirm("Are you sure you want to delete this form?")){const r=JSON.parse(localStorage.getItem("forms")||"[]").filter(o=>o.id!==t);localStorage.setItem("forms",JSON.stringify(r)),n(r)}},h=()=>{d("/form-builder")},s=t=>{const a=w[t];if(!a)return;const r={...a,id:`form-${Date.now()}`,createdAt:new Date().toISOString(),isTemplate:!0,originalTemplate:t},o=JSON.parse(localStorage.getItem("forms")||"[]");localStorage.setItem("forms",JSON.stringify([...o,r])),d(`/edit-form/${r.id}`)};return e.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-800 p-8 text-gray-900 dark:text-gray-300",children:[e.jsx(f,{}),e.jsxs("header",{className:"mb-10",children:[e.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 dark:text-white mb-6",children:"Form Builder"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-700 p-6 rounded-lg shadow-md flex flex-col items-center justify-center cursor-pointer hover:shadow-lg transition-shadow",onClick:h,children:[e.jsx("div",{className:"bg-blue-600 rounded-full p-3 mb-3",children:e.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200",children:"Blank form"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-700 p-6 rounded-lg shadow-md flex flex-col items-center justify-center cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>s("contact"),children:[e.jsx("div",{className:"bg-green-200 dark:bg-green-800 rounded-full p-3 mb-3",children:e.jsx("span",{className:"text-green-800 dark:text-green-200 text-lg font-semibold",children:"Template Preview"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200",children:"Contact Information"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-700 p-6 rounded-lg shadow-md flex flex-col items-center justify-center cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>s("rsvp"),children:[e.jsx("div",{className:"bg-purple-200 dark:bg-purple-800 rounded-full p-3 mb-3",children:e.jsx("span",{className:"text-purple-800 dark:text-purple-200 text-lg font-semibold",children:"Template Preview"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200",children:"RSVP"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-700 p-6 rounded-lg shadow-md flex flex-col items-center justify-center cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>s("partyInvite"),children:[e.jsx("div",{className:"bg-yellow-200 dark:bg-yellow-800 rounded-full p-3 mb-3",children:e.jsx("span",{className:"text-yellow-800 dark:text-yellow-200 text-lg font-semibold",children:"Template Preview"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200",children:"Party Invite"})]})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Recent forms"}),i.length===0?e.jsx("p",{className:"text-gray-600 dark:text-gray-300 bg-white dark:bg-gray-700 p-6 rounded-lg shadow-md",children:"No recent forms. Create one to see it here!"}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(t=>e.jsxs("div",{className:"bg-white dark:bg-gray-700 p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200 truncate mb-2",title:t.title,children:t.title}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-1",children:["Fields: ",t.fields.length]}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-4",children:["Created: ",new Date(t.createdAt).toLocaleDateString()]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(c,{to:`/edit-form/${t.id}`,className:"text-blue-600 hover:underline font-medium",children:"View/Edit"}),e.jsx(c,{to:`/form-preview/${t.id}`,className:"text-green-600 hover:underline font-medium",children:"Preview"}),e.jsxs("button",{onClick:()=>u(t.id,x),className:"relative text-purple-600 hover:underline font-medium flex items-center cursor-pointer","aria-label":"Copy form link",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),"Copy Link",m===t.id&&e.jsx("span",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-gray-800 text-white text-xs px-2 py-1 rounded w-max",children:"Link copied!"})]}),e.jsxs("button",{onClick:()=>g(t.id),className:"relative text-red-600 hover:underline font-medium flex items-center cursor-pointer","aria-label":"Delete form",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete"]})]})]},t.id))})]})]})}export{S as default};
